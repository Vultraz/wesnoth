#textdomain wesnoth-lib
###
### Definition of the window to select an addon for installation.
###

#define _GUI_ADDON_MAIN_SECTION
	[grid]
	
		[row]
			grow_factor = 1

			[column]
				grow_factor = 1

				border = "all"
				border_size = 5

				horizontal_grow = "true"
				vertical_grow = "true"

				[listbox]
					id = "addons"
					definition = "default"

					[header]
						
						[row]
							grow_factor = 1

							[column]
								grow_factor = 0
								border = "all"
								border_size = 5

								[spacer]
									linked_group = "icon"
								[/spacer]
							[/column]

							[column]
								grow_factor = 1
								horizontal_grow = "true"

								border = "all"
								border_size = 5

								[toggle_button]
									id = "sort_name"
									definition = "listbox_header"
									linked_group = "name"

									label = _ "Name"
								[/toggle_button]

							[/column]

							[column]
								grow_factor = 0
								horizontal_grow = "true"

								border = "all"
								border_size = 5

								[label]
									definition = "default"
									linked_group = "version"
									label = _ "Version"
								[/label]

							[/column]

							[column]
								grow_factor = 1
							 	horizontal_grow = "true"

								border = "all"
								border_size = 5

								[toggle_button]
									id = "sort_author"
									definition = "listbox_header"
									linked_group = "author"

									label = _ "Author"
								[/toggle_button]

							[/column]

							[column]
								grow_factor = 1
							 	horizontal_grow = "true"

								border = "all"
								border_size = 5

								[toggle_button]
									id = "sort_size"
									definition = "listbox_header"
									linked_group = "size"

									label = _ "Size"
								[/toggle_button]

							[/column]
										
							[column]
								grow_factor = 1
							 	horizontal_grow = "true"

								border = "all"
								border_size = 5

								[toggle_button]
									id = "sort_downloads"
									definition = "listbox_header"
									linked_group = "downloads"

									label = _ "Downloads"
								[/toggle_button]

							[/column]
								
							[column]
								grow_factor = 1
								horizontal_grow = "true"

								border = "all"
								border_size = 5
											
								[toggle_button]
									id = "sort_size"
									definition = "listbox_header"
									linked_group = "type"

									label = _ "Type"
								[/toggle_button]
							[/column]

						[/row]

					[/header]

					[list_definition]

						[row]

							[column]
								vertical_grow = "true"
								horizontal_grow = "true"

								[toggle_panel]
									## linked_group = "list_item"
									definition = "default"

									return_value_id = "ok"

									[grid]

										[row]

											[column]
												horizontal_grow = "false"
												vertical_alignment = "center"

												border = "all"
												border_size = 5

												[drawing]
													id = "icon"
													definition = "default"
													linked_group = "icon"

													width = 72
													height = 72
												
													[draw]

														[image]
															name = "(text)"
															w = "(min(image_original_width, 72))"
															h = "(min(image_original_height, 72))"
														[/image]

													[/draw]

												[/drawing]

											[/column]

											[column]
												grow_factor = 1
												horizontal_grow = "true"
												vertical_alignment = "center"

												[grid]

													[row]

														[column]
															grow_factor = 1
															horizontal_grow = "true"

															border = "all"
															border_size = 5

															[label]
																id = "name"
																definition = "default"
																linked_group = "name"
																wrap = "true"
																characters_per_line = 20
															[/label]
														[/column]

													[/row]

													[row]

														[column]
															grow_factor = 1
															horizontal_grow = "true"

															border = "all"
															border_size = 5

															[label]
																id = "installation_status"
																definition = "default_small"
																linked_group = "name"
															[/label]
														[/column]
																		
													[/row]
																	
												[/grid]

											[/column]

											[column]
												grow_factor = 0
												horizontal_grow = "true"

												border = "all"
												border_size = 5

												[label]
													id = "version"
													definition = "default"
													linked_group = "version"
													wrap = "true"
												[/label]

											[/column]

											[column]
												grow_factor = 1
												horizontal_grow = "true"

												border = "all"
												border_size = 5

												[label]
													id = "author"
													definition = "default"
													linked_group = "author"
													wrap = "true"
													characters_per_line = 20
												[/label]

											[/column]

											[column]
												grow_factor = 1
												horizontal_grow = "true"

												border = "all"
												border_size = 5

												[label]
													id = "size"
													definition = "default"
													linked_group = "size"
													wrap = "true"
												[/label]

											[/column]

											[column]
												grow_factor = 1
												horizontal_grow = "true"

												border = "all"
												border_size = 5

												[label]
													id = "downloads"
													definition = "default"
													linked_group = "downloads"
													wrap = "true"
												[/label]

											[/column]

											[column]
												grow_factor = 1
												horizontal_grow = "true"

												border = "all"
												border_size = 5

												[label]
													id = "type"
													definition = "default"
													linked_group = "type"
													wrap = "true"
												[/label]

											[/column]

										[/row]

									[/grid]

								[/toggle_panel]

							[/column]

						[/row]

					[/list_definition]

				[/listbox]

			[/column]

		[/row]

		[row]
			grow_factor = 1

			[column]
				horizontal_grow = "true"

				[grid]

					[row]

						[column]
							grow_factor = 0
							border = "all"
							border_size = 5
							vertical_alignment = "top"
							horizontal_alignment = "left"

							[drawing]
								id = "image"
								definition = "default"

								width = 72
								height = 72

								[draw]
									[image]
										#name = "(text)"
										name = "attacks/baneblade.png"
										w = "(min(image_original_width, 72))"
										h = "(min(image_original_height, 72))"
									[/image]
								[/draw]

							[/drawing]

						[/column]

						[column]
							grow_factor = 1
							horizontal_grow = "true"
							vertical_alignment = "top"

							[grid]

								[row]

									[column]
										border = "all"
										border_size = 5
										horizontal_grow = "true"
										vertical_alignment = "top"

										[label]
											id = "title"
											definition = "title"
											label = "Epic Addon Of Awesomeness"
										[/label]

									[/column]

								[/row]

								[row]

									[column]
										border = "all"
										border_size = 5
										vertical_alignment = "top"
										horizontal_grow = "true"

										[scroll_label]
											id = "description"
											definition = "description"
											#label = _ "No description available."
											label = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
										[/scroll_label]

									[/column]

								[/row]

								[row]
									grow_factor = 1

									[column]
										border = "all"
										border_size = 10
										horizontal_grow = true

										[drawing]
											definition = "default"

											width = (width)
											height = 1

											[draw]

												[line]
													x1 = 0
													y1 = 0
													x2 = (width - 1)
													y2 = 0

													color = {GUI__FONT_COLOR_DISABLED__DEFAULT}
													thickness = 1
												[/line]

											[/draw]

										[/drawing]

									[/column]
		
								[/row]
		
								[row]
									grow_factor = 1
							
									[column]
										horizontal_grow = "true"

										[grid]

											[row]
												grow_factor = 1

												[column]
													border = "all"
													border_size = 5
													vertical_alignment = "top"
													horizontal_alignment = "left"

													[label]
														definition = "default"
														label = _ "Type:"
													[/label]

												[/column]

												[column]
													border = "all"
													border_size = 5
													horizontal_alignment = "left"
													vertical_alignment = "top"

													[label]
														id = "type"
														definition = "default"
														wrap = "true"
														label = "Campaign"
													[/label]

												[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "Status:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									id = "status"
									definition = "default"
									label = "Installed"
									wrap = "true"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "Dependencies:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[scroll_label]
									id = "dependencies"
									definition = "default"
									label = _ "addon_dependencies^None"
								[/scroll_label]

							[/column]

						[/row]

						[row]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "Version:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									id = "version"
									definition = "default"
									label = "3.0"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "Size:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									id = "size"
									definition = "default"
									label = "25 GB"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "Translations:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[scroll_label]
									id = "translations"
									definition = "default"
									label = _ "translations^None"
								[/scroll_label]

							[/column]

						[/row]

						[row]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "Author:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "left"
								vertical_alignment = "top"

								[scroll_label]
									id = "author"
									definition = "default"
									label = "Vultraz"
								[/scroll_label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "Downloads:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									id = "downloads"
									definition = "default"
									label = "OVER 9000"
								[/label]

							[/column]

							{GUI_FILLER}
										
							{GUI_FILLER}
						[/row]

						[row]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "date^Last updated:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "left"
								vertical_alignment = "top"

								[scroll_label]
									id = "updated"
									definition = "default"
								[/scroll_label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "date^First uploaded:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								vertical_alignment = "top"
								horizontal_alignment = "left"

								[label]
									id = "created"
									definition = "default"
								[/label]

							[/column]

							{GUI_FILLER}
										
							{GUI_FILLER}

						[/row]

					[/grid]

				[/column]

			[/row]

			[row]

				[column]
					horizontal_grow = "true"

					[grid]

						[row]
							grow_factor = 1

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "left"

								[label]
									definition = "default"
									label = _ "Website:"
								[/label]

							[/column]

							[column]
								grow_factor = 1
								horizontal_grow = "true"

								[stacked_widget]

									[stack]

										[layer]

											[row]

												[column]
													border = "all"
													border_size = 5
													horizontal_alignment = "left"

													[label]
														id = "url_none"
														label = _ "url^None"
													[/label]

												[/column]

											[/row]

										[/layer]

										[layer]

											[row]

												[column]
													grow_factor = 1
													border = "all"
													border_size = 5
													horizontal_grow = "true"

													[text_box]
														id = "url"
														definition = "default"
													[/text_box]

												[/column]

												[column]
													border = "all"
													border_size = 5
													horizontal_alignment = "right"

													[button]
														id = "url_copy"
														definition = "action_copy"
														label = _ "url^Copy"
														tooltip = _ "Copy this URL to clipboard"
													[/button]

												[/column]

												[column]
													border = "all"
													border_size = 5
													horizontal_alignment = "right"

													[button]
														id = "url_go"
														definition = "action_go"
														label = _ "url^Go"
														tooltip = _ "Visit this URL with a web browser"
													[/button]

												[/column]

											[/row]

										[/layer]

									[/stack]

								[/stacked_widget]

							[/column]

						[/row]

					[/grid]

				[/column]

			[/row]

							[/grid]

						[/column]

					[/row]

				[/grid]
			[/column]
		[/row]
	[/grid]
#enddef

#define _GUI_ADDON_TYPE_OPTION ID LABEL
	[column]
		grow_factor = 1
		border = "all"
		border_size = 5
		horizontal_alignment = "left"

		[toggle_button]
			id = "show_"+{ID}
			definition = "default"
			label = {LABEL}
		[/toggle_button]
	[/column]
#enddef

#define _GUI_ADDON_SORT_OPTION ID LABEL
	[column]
		grow_factor = 1
		border = "all"
		border_size = 5
		horizontal_alignment = "left"

		[toggle_button]
			id = "sort_"+{ID}
			definition = "radio"
			label = {LABEL}
		[/toggle_button]
	[/column]
#enddef

#define _GUI_SPACER
	[column]
		grow_factor = 1
		border = "all"
		border_size = 5
		horizontal_alignment = "left"

		[spacer]
		[/spacer]
	[/column]
#enddef

#define _GUI_ADDON_TYPE_OPTIONS
	[grid]

		[row]
			{_GUI_ADDON_TYPE_OPTION sp_campaigns _"addons_of_type^Campaigns"}
			{_GUI_ADDON_TYPE_OPTION mp_eras _"addons_of_type^MP eras"}
		[/row]
		[row]
			{_GUI_ADDON_TYPE_OPTION sp_scenarios _"addons_of_type^Scenarios"}
			{_GUI_ADDON_TYPE_OPTION mp_factions _"addons_of_type^MP factions"}
		[/row]
		[row]
			{_GUI_ADDON_TYPE_OPTION sp_mp_campaigns _"addons_of_type^SP/MP campaigns"}
			{_GUI_ADDON_TYPE_OPTION mp_campaigns _"addons_of_type^MP campaigns"}
		[/row]
		[row]
			{_GUI_ADDON_TYPE_OPTION media _"addons_of_type^Resources"}
			{_GUI_ADDON_TYPE_OPTION mp_scenarios _"addons_of_type^MP scenarios"}
		[/row]
		[row]
			{_GUI_ADDON_TYPE_OPTION cores _"addons_of_type^Cores"}
			{_GUI_ADDON_TYPE_OPTION mp_maps _"addons_of_type^MP map-packs"}
		[/row]
		[row]
			# FIXME: (also in C++) should this and Unknown be a single option in the UI?
			{_GUI_ADDON_TYPE_OPTION other _"addons_of_type^Other"}
			{_GUI_ADDON_TYPE_OPTION mp_mods _"addons_of_type^MP modifications"}
		[/row]
		[row]
			{_GUI_ADDON_TYPE_OPTION unknown _"addons_of_type^Unknown"}
			{_GUI_SPACER}
		[/row]

	[/grid]
#enddef

#define _GUI_ADDON_STATUS_OPTIONS

#enddef

#define _GUI_ADDON_FILTER_OPTIONS
		[grid]

			[row]
				grow_factor = 0

				[column]
					horizontal_grow = "true"

					[grid]

						[row]
							grow_factor = 1

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "left"

								[label]
									definition = "default"

									label = "Filter:"
								[/label]

							[/column]

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "left"

								[text_box]
									id = "filter"
									definition = "default"

									tooltip = "Filters on addon descripton, version, type or author."
								[/text_box]

							[/column]

						[/row]

					[/grid]

				[/column]

			[/row]

			[row]

				[column]

					horizontal_grow = "true"
					vertical_grow = "true"

					border = "top"
					border_size = 5

					[grid]

						[row]

							[column]

								horizontal_grow = "true"
								vertical_alignment = "top"

								[grid]

									[row]

										[column]
											border = "all"
											border_size = 5
											horizontal_alignment = "left"

											[label]
												definition = "default"
												label = _ "Installation status:"
											[/label]

										[/column]

									[/row]

									[row]

										[column]
											border = "all"
											border_size = 5

											horizontal_grow = "true"

											# TODO: maybe do this in the source code?
											[combobox]
												definition = "default"
												[option]
													label = "All Add-ons"
												[/option]

												[option]
													label = "Installed"
												[/option]

												[option]
													label = "Upgradable"
												[/option]

												[option]
													label = "Not Installed"
												[/option]

												[option]
													label = "Not Uploaded"
												[/option]
											[/combobox]
										[/column]

									[/row]

								[/grid]

							[/column]

						[/row]
						[row]

							[column]

								horizontal_grow = "true"

								[grid]

									[row]

										[column]

											horizontal_grow = "true"

											[grid]

												[row]

													[column]
														border = "all"
														border_size = 5
														horizontal_alignment = "left"
														vertical_alignment = "top"

														[label]
															definition = "default"
															label = _ "Add-on types:"
														[/label]

													[/column]

													[column]
														border = "all"
														border_size = 5
														horizontal_alignment = "right"

														[button]
															id = "toggle_all_displayed_types"
															definition = "default"
															label = _ "Toggle All"
														[/button]

													[/column]

												[/row]

											[/grid]

										[/column]

									[/row]

									[row]

										[column]
											horizontal_alignment = "left"
											{_GUI_ADDON_TYPE_OPTIONS}
										[/column]

									[/row]

								[/grid]

							[/column]

						[/row]

					[/grid]

				[/column]

			[/row]
			
			[row]
				grow_factor = 1

				[column]
					border = "all"
					border_size = 10
					horizontal_grow = true

					[drawing]
						definition = "default"

						width = (width)
						height = 1

						[draw]

							[line]
								x1 = 0
								y1 = 0
								x2 = (width - 1)
								y2 = 0

								color = {GUI__FONT_COLOR_DISABLED__DEFAULT}
								thickness = 1
							[/line]

						[/draw]

					[/drawing]

				[/column]
		
			[/row]
		
			[row]
				grow_factor = 0

				[column]
					border = "all"
					border_size = 5
					horizontal_alignment = "left"

					[label]
						definition = "default"
						label = _ "Add-ons will be sorted as follows
when no column is selected:"
						wrap = "true"
					[/label]
				[/column]

			[/row]

			[row]
				grow_factor = 0

				[column]
					horizontal_grow = "true"
					vertical_alignment = "bottom"

					border = "top"
					border_size = 5

					[grid]

						[row]

							[column]

								horizontal_alignment = "left"
								vertical_alignment = "top"

								[grid]

									[row]
										grow_factor = 0
										{_GUI_ADDON_SORT_OPTION by_name ( _ "sort^By name")}
									[/row]

									[row]
										grow_factor = 0
										{_GUI_ADDON_SORT_OPTION by_last_updated ( _ "sort^By last updated")}
									[/row]

									[row]
										grow_factor = 0
										{_GUI_ADDON_SORT_OPTION by_first_upload ( _ "sort^By first upload")}
									[/row]

								[/grid]

							[/column]

							[column]

								horizontal_alignment = "left"
								vertical_alignment = "top"

								[grid]

									[row]
										grow_factor = 0
										{_GUI_ADDON_SORT_OPTION ascending ( _ "sort^Ascending")}
									[/row]

									[row]
										grow_factor = 0
										{_GUI_ADDON_SORT_OPTION descending ( _ "sort^Descending")}
									[/row]

								[/grid]

							[/column]

						[/row]

					[/grid]

				[/column]

			[/row]

		[/grid]
#enddef

[window]
	id = "addon_list"
	description = "Addon selection dialog."

	[resolution]
		definition = "borderless"

		automatic_placement = "false"

		x = 0
		y = 0

		width = "(screen_width)"
		height = "(screen_height)"

		[linked_group]
			id = "icon"
			fixed_width = "true"
		[/linked_group]

		[linked_group]
			id = "name"
			fixed_width = "true"
		[/linked_group]

		[linked_group]
			id = "version"
			fixed_width = "true"
		[/linked_group]

		[linked_group]
			id = "author"
			fixed_width = "true"
		[/linked_group]

		[linked_group]
			id = "downloads"
			fixed_width = "true"
		[/linked_group]

		[linked_group]
			id = "size"
			fixed_width = "true"
		[/linked_group]

		[linked_group]
			id = "type"
			fixed_width = "true"
		[/linked_group]

		[linked_group]
			id = "toggle"
			fixed_width = "true"
		[/linked_group]

		[linked_group]
			id = "list_item"
			fixed_width = "true"
		[/linked_group]

		[tooltip]
			id = "tooltip_large"
		[/tooltip]

		[helptip]
			id = "tooltip_large"
		[/helptip]

		[grid]

			[row]
				grow_factor = 0

				[column]
					grow_factor = 1

					border = "all"
					border_size = 5
					horizontal_alignment = "left"
					[label]
						definition = "title"

						label = "Get Add-ons"
					[/label]

				[/column]

			[/row]

			[row]
				grow_factor = 1

				[column]
					horizontal_grow = "true"
	
					[grid]

						[row]
							grow_factor = 1

							[column]
								grow_factor = 1
								horizontal_grow = "true"
								vertical_alignment = "top"

								{_GUI_ADDON_MAIN_SECTION}

							[/column]

							[column]
								grow_factor = 0
								horizontal_alignment = "left"
								vertical_alignment = "top"

								{_GUI_ADDON_FILTER_OPTIONS}

							[/column]

						[/row]

					[/grid]

				[/column]

			[/row]

			[row]

				[column]
					border = "all"
					border_size = 5
					horizontal_alignment = "right"

					[button]
						id = "update_all"
						definition = "default"

						label = "Update All"
					[/button]
				[/column]

			[/row]

			[row]
				grow_factor = 0

				[column]
					horizontal_grow = "true"

					[grid]

						[row]
							grow_factor = 1

							[column]
								grow_factor = 1
								border = "all"
								border_size = 5
								horizontal_alignment = "left"

								[button]
									# NOTE: this isn't named "help" because it conflicts with
									# a titlescreen hack in gui2::twindow::get_retval_by_id().
									id = "show_help"
									definition = "default"

									label = "Help"
								[/button]

							[/column]
							
							[column]
								grow_factor = 0
								border = "all"
								border_size = 5
								horizontal_alignment = "right"

								[button]
									id = "ok"
									definition = "default"

									label = "Install"
								[/button]

							[/column]

							[column]
								grow_factor = 0
								border = "all"
								border_size = 5
								horizontal_alignment = "right"

								[button]
									id = "cancel"
									definition = "default"

									label = "Cancel"
								[/button]

							[/column]

						[/row]

					[/grid]

				[/column]

			[/row]

		[/grid]

	[/resolution]

[/window]

#undef _GUI_ADDON_FILTER_OPTIONS
#undef _GUI_ADDON_MAIN_SECTION
